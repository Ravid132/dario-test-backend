{"version":3,"sources":["store/toy.reducer.js","services/http.service.js","services/user.service.js","store/user.reducer.js","store/review.reducer.js","store/system.reducer.js","store/store.js","assets/img/toyLogo.png","pages/ToyHome.jsx","cmps/MyMap.jsx","pages/ToyAbout.jsx","cmps/ToyFilter.jsx","cmps/ToyPreview.jsx","cmps/ToyList.jsx","cmps/ToyAdd.jsx","services/toy.service.js","services/event-bus.service.js","store/toy.actions.js","pages/ToyApp.jsx","cmps/ReviewModal.jsx","services/util.service.js","cmps/ReviewPreview.jsx","cmps/ReviewList.jsx","cmps/ToyMessagePreview.jsx","cmps/ToyMessageList.jsx","services/socket.service.js","cmps/ToyMessages.jsx","cmps/ToyPopup.jsx","services/review.service.js","store/review.actions.js","pages/ToyDetails.jsx","pages/ToyEdit.jsx","cmps/ToyChartPie.jsx","cmps/ToyChartDoughnut.jsx","cmps/ToyChart.jsx","store/user.actions.js","pages/ToyLoginSignup.jsx","cmps/ToyUserEdit.jsx","pages/ToyUserDetails.jsx","pages/ToyReviews.jsx","routes.js","cmps/user-msg.jsx","cmps/RightNav.jsx","cmps/Burger.jsx","cmps/ToyHeader.jsx","root-cmp.jsx","index.js"],"names":["initialState","toys","filterBy","name","inStock","sortBy","selectedOptions","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","log","dir","response","status","window","location","assign","STORAGE_KEY_LOGGEDIN","userService","login","logout","signup","update","getLoggedinUser","JSON","parse","sessionStorage","getItem","credentials","user","setItem","stringify","_id","userInfo","Promise","resolve","reviews","isLoading","rootReducer","combineReducers","toyModule","state","action","type","filter","toy","toyId","map","userModule","newState","userState","reviewModule","review","reviewId","systemModule","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","_ToyHome","this","props","className","fullname","src","toyLogo","alt","to","React","Component","ToyHome","connect","_MyMap","center","lat","lng","isInfoWindowOn","acordionBranchContent","heading","position","content","tel","web","open","onMapClicked","ev","setState","latLng","onMarkerClicked","onInfoWindowClose","onBranchClick","idx","currBranchSelected","currBranchDetails","google","zoom","initialCenter","onClick","containerStyle","width","height","margin","currBranch","onClose","visible","allowZeroExpanded","MyMap","GoogleApiWrapper","apiKey","ToyAbout","animatedComponents","makeAnimated","ToyFilter","options","value","label","options2","handleChangeSelect","event","updatedSelect","option","handleChange","onSubmit","preventDefault","TextField","variant","placeholder","onChange","closeMenuOnSelect","components","isMulti","id","htmlFor","ToyPreview","onRemoveToy","onEditToy","price","toLocaleString","isAdmin","stopPropagation","ToyList","ToyAdd","labels","target","field","prevState","handleSelectChange","length","onAddToy","onToggleAdd","loadLabels","toLowerCase","required","toyService","query","getById","save","remove","savedToy","updatedToy","eventBusService","on","eventName","listener","callListener","detail","addEventListener","removeEventListener","emit","dispatchEvent","CustomEvent","showUserMsg","txt","showSuccessMsg","showErrorMsg","loadToys","dispatch","toyToSave","myBus","_ToyApp","isAdd","history","push","onHandleChange","resetFilter","mapDispatchToProps","Array","isArray","ToyApp","ReviewModal","comment","rating","hover","onAddReview","toggleModal","addToyReview","setRating","setHover","multiline","rows","color","Rating","size","onChangeActive","newHover","emptyIcon","style","opacity","fontSize","Box","sx","ml","Button","fullWidth","utilService","makeId","possible","i","charAt","Math","floor","random","makeLorem","words","getRandomIntInclusive","min","max","ceil","formatDate","d","Date","getDate","slice","getMonth","getFullYear","getHours","getMinutes","ReviewPreview","removeToyReview","hasOwnProperty","Avatar","toUpperCase","readOnly","createdAt","ReviewList","ToyMessagePreview","message","writer","text","date","ToyMessageList","messages","Fragment","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","ToyMessages","typingMsg","addMsg","newMsg","addTypingMsg","onChangeMessage","e","msg","onSubmitMessage","from","aiResponse","newMessage","setTimeout","toggleChat","ToyPopup","children","reviewService","add","queryStr","userId","addedReview","loadReviews","removeReview","_ToyDetails","isChatOpen","toggleReviewAdd","isReviewAdd","escFunction","keyCode","match","addReview","document","body","ToyDetails","_ToyEdit","Input","ToyEdit","ToyChartPie","toyData","datasets","backgroundColor","borderColor","borderWidth","maintainAspectRatio","ToyChartDoughnut","ToyChart","toyTypes","toyCounts","j","indexOf","calcChartPie","toyPrices","calcChartDoughnut","onLogin","then","catch","err","onSignup","_ToyLoginSignup","isSignup","AcordionContent","toggleSignup","validate","values","errors","username","password","onFormSubmit","setSubmitting","TextFieldOutlined","Container","component","maxWidth","Typography","initialValues","isSubmitting","autoComplete","as","disabled","Grid","container","item","allowMultipleExpanded","singleAccordion","ToyLoginSignup","_ToyUserEdit","handleEdit","ToyUserEdit","_ToyUserDetails","isEdit","onEditUser","toggleEdit","ToyUserDetails","_ToyReviews","routes","path","UserMsg","removeEvent","msgClass","RightNav","toggleOpen","onLogout","exact","Burger","_ToyHeader","isMobile","handleResize","innerWidth","ToyHeader","RootCmp","route","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f423164.chunk.js","sourcesContent":["const initialState = {\n    toys: [],\n    filterBy: {\n        name: '',\n        inStock: false,\n        sortBy: 'all',\n        selectedOptions: []\n    },\n}\nexport function toyReducer(state = initialState, action) {\n    var toys\n    switch (action.type) {\n        case 'SET_TOYS':\n            return { ...state, toys: action.toys }\n\n        case 'REMOVE_TOY':\n            toys = state.toys.filter(toy => toy._id !== action.toyId)\n            return { ...state, toys }\n\n        case 'ADD_TOY':\n            return { ...state, toys: [...state.toys, action.toy] }\n\n        case 'UPDATE_TOY':\n            toys = state.toys.map(toy => (toy._id === action.toy._id) ? action.toy : toy)\n            return { ...state, toys }\n\n        case 'SET_FILTER':\n            return { ...state, filterBy: { ...state.filterBy, ...action.filterBy } }\n\n        default:\n            return { ...state }\n    }\n}\n","import Axios from 'axios'\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n    ? '/api/'\n    : '//localhost:3030/api/'\n\n\nvar axios = Axios.create({\n    withCredentials: true\n})\n\nexport const httpService = {\n    get(endpoint, data) {\n        return ajax(endpoint, 'GET', data)\n    },\n    post(endpoint, data) {\n        return ajax(endpoint, 'POST', data)\n    },\n    put(endpoint, data) {\n        return ajax(endpoint, 'PUT', data)\n    },\n    delete(endpoint, data) {\n        return ajax(endpoint, 'DELETE', data)\n    }\n}\n\nasync function ajax(endpoint, method = 'GET', data = null) {\n    try {\n        const res = await axios({\n            url: `${BASE_URL}${endpoint}`,\n            method,\n            data,\n            params: (method === 'GET') ? data : null\n        })\n        return res.data\n    } catch (err) {\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\n        console.dir(err)\n        if (err.response && err.response.status === 401) {\n            window.location.assign('/')\n        }\n        throw err\n    }\n}","import { httpService } from './http.service';\n\nconst STORAGE_KEY_LOGGEDIN = 'loggedinUser';\n\nexport const userService = {\n  login,\n  logout,\n  signup,\n  update,\n  getLoggedinUser,\n};\n\nwindow.userService = userService;\n\nasync function login(credentials) {\n  const user = await httpService.post(`auth/login`, credentials);\n  sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user));\n  return user;\n}\n\nasync function update(credentials) {\n  const user = await httpService.put(`user/${credentials._id}`, credentials);\n  sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user));\n  return user;\n}\n\nasync function signup(userInfo) {\n  const user = await httpService.post('auth/signup', userInfo);\n  sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, JSON.stringify(user));\n  return user;\n}\n\nasync function logout() {\n  await httpService.post('auth/logout');\n  sessionStorage.setItem(STORAGE_KEY_LOGGEDIN, null);\n  return Promise.resolve();\n}\n\nfunction getLoggedinUser() {\n  return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN));\n}\n","import { userService } from '../services/user.service.js'\n\n\nconst initialState = {\n    user: userService.getLoggedinUser(),\n}\nexport function userReducer(state = initialState, action) {\n    var newState = state;\n    switch (action.type) {\n        case 'UPDATE_USER':\n            newState = { ...state, user: { ...state.user, ...action.user } }\n            break;\n        case 'SET_USER':\n            newState = { ...state, user: action.user }\n            break;\n        default:\n    }\n    // For debug:\n    window.userState = newState;\n    return newState;\n\n}\n","const initialState = {\n  reviews: [],\n}\n\nexport function reviewReducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case 'SET_REVIEWS':\n      return { ...state, reviews: action.reviews }\n    case 'ADD_REVIEW':\n      return { ...state, reviews: [...state.reviews, action.review] }\n    case 'REMOVE_REVIEW':\n      return { ...state, reviews: state.reviews.filter(review => review._id !== action.reviewId) }\n    case 'UPDATE_REVIEW':\n      return {\n        ...state,\n        reviews: state.reviews.map(review =>\n          review._id === action.review._id ? action.review : review\n        )}\n    default:\n      return state\n  }\n}\n","const initialState = {\n  isLoading: false\n};\n\nexport function systemReducer (state = initialState, action = {}) {\n  switch (action.type) {\n    case 'LOADING_START':\n      return { ...state, isLoading: true }\n    case 'LOADING_DONE':\n      return { ...state, isLoading: false }\n    default: return state\n  }\n}\n","// const { createStore, applyMiddleware, combineReducers, compose } = Redux\n// const thunk = ReduxThunk.default\n\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\n\nimport { toyReducer } from './toy.reducer.js'\nimport { userReducer } from './user.reducer.js'\nimport { reviewReducer } from './review.reducer.js'\nimport { systemReducer } from './system.reducer.js'\n\nconst rootReducer = combineReducers({\n    toyModule: toyReducer,\n    userModule: userReducer,\n    reviewModule: reviewReducer,\n    systemModule: systemReducer\n})\n\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\n// Lets wire up thunk and also redux-dev-tools:\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\n\n\n","export default __webpack_public_path__ + \"static/media/toyLogo.91c05821.png\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport toyLogo from '../assets/img/toyLogo.png';\nimport { connect } from 'react-redux';\n\nexport class _ToyHome extends React.Component {\n  render() {\n    const { user } = this.props;\n    return (\n      <div className='home-page full'>\n        <div className='hero-text'>\n          <h1 className='elegantshadow'>\n            Welcome {user && <span>{user.fullname}</span>} to MasterToy !\n          </h1>\n          <img src={toyLogo} alt='MasterToy' />\n          <Link to='/toy'>Shop Now!</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.userModule.user,\n  };\n}\n\nexport const ToyHome = connect(mapStateToProps, null)(_ToyHome);\n","import { Component } from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionItemHeading,\n  AccordionItemButton,\n  AccordionItemPanel,\n} from 'react-accessible-accordion';\nimport 'react-accessible-accordion/dist/fancy-example.css';\n\nclass _MyMap extends Component {\n  state = {\n    center: {\n      lat: 32.109333,\n      lng: 34.855499,\n    },\n    isInfoWindowOn: false,\n  };\n\n  acordionBranchContent = [\n    {\n      heading: 'Tel Aviv Branch',\n      position: { lat: 32.09151422942391, lng: 34.77710737828437 },\n      content: 'Even Gbirol Street, 154 ',\n      tel: '03-5856925 ',\n      web: 'www.toy-center-tel-aviv.com',\n      open: 'Sunday - Thursday: 8am - 8pm',\n    },\n    {\n      heading: 'Rishon LeZion Branch',\n      position: { lat: 31.991592668300214, lng: 34.77426346001116 },\n      content: 'David Saharov Street, 21 ',\n      tel: '03-9436284 ',\n      web: 'www.toy-center-rishon-lezion.com',\n      open: 'Sunday - Thursday: 8am - 5pm',\n    },\n    {\n      heading: 'Yavne Branch',\n      position: { lat: 31.88645270730612, lng: 34.733906758221366 },\n      content: 'HaKishon Street, 7  ',\n      tel: '08-9428994 ',\n      web: 'www.toy-center-yavne.com',\n      open: 'Sunday - Thursday: 10am - 8pm',\n    },\n  ];\n\n  onMapClicked = (props, map, ev) => {\n    this.setState({ center: { lat: ev.latLng.lat(), lng: ev.latLng.lng() } });\n  };\n\n  onMarkerClicked = () => {\n    this.setState({ isInfoWindowOn: true });\n  };\n\n  onInfoWindowClose = () => {\n    this.setState({ isInfoWindowOn: false });\n  };\n\n  onBranchClick = (idx) => {\n    this.setState({\n      isInfoWindowOn: true,\n      currBranchSelected: this.acordionBranchContent[idx].position,\n      currBranchDetails: this.acordionBranchContent[idx].heading,\n    });\n  };\n\n  render() {\n    const style = {\n      width: '%',\n      height: '500px',\n      position: 'relative',\n      margin: '20px',\n    };\n\n    return (\n      <>\n        <Map\n          google={this.props.google}\n          zoom={10}\n          initialCenter={{ lat: 32.02393895923443, lng: 34.78419219869878 }}\n          onClick={this.onMapClicked}\n          center={{ lat: 32.02393895923443, lng: 34.78419219869878 }}\n          containerStyle={style}\n        >\n          {this.acordionBranchContent.map((currBranch, idx) => (\n            <Marker\n              key={idx}\n              position={currBranch.position}\n              name={currBranch.heading}\n              onClick={this.onMarkerClicked}\n            />\n          ))}\n\n          <InfoWindow\n            onClose={this.onInfoWindowClose}\n            position={this.state.currBranchSelected}\n            visible={this.state.isInfoWindowOn}\n          >\n            <div>\n              <h1>{this.state.currBranchDetails}</h1>\n            </div>\n          </InfoWindow>\n        </Map>\n        <Accordion allowZeroExpanded>\n          {this.acordionBranchContent.map((currBranch, idx) => (\n            <AccordionItem key={idx}>\n              <AccordionItemHeading\n                onClick={() => this.onBranchClick(`${idx}`)}\n              >\n                <AccordionItemButton>{currBranch.heading}</AccordionItemButton>\n              </AccordionItemHeading>\n              <AccordionItemPanel>\n                <h2>{currBranch.heading}</h2>\n                <p>Addres: {currBranch.content}</p>\n                <p>Tel: {currBranch.tel}</p>\n                <p>Web: {currBranch.web}</p>\n                <p>Open Hours: {currBranch.open}</p>\n              </AccordionItemPanel>\n            </AccordionItem>\n          ))}\n        </Accordion>\n      </>\n    );\n  }\n}\n\nexport const MyMap = GoogleApiWrapper({\n  apiKey: 'AIzaSyDCdZ8RItKP9Q3-hCXKS3HqnfnRXbpVLk8',\n})(_MyMap);\n","import React from 'react'\nimport { MyMap } from '../cmps/MyMap'\n\n\nexport class ToyAbout extends React.Component {\n    render() {\n        return (\n            <section className=\"about\">\n                <MyMap />\n            </section>\n        )\n    }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\nimport { TextField } from '@material-ui/core';\nconst animatedComponents = makeAnimated();\n\nexport class ToyFilter extends React.Component {\n    state = {\n        selectedOptions: [],\n    };\n\n    options = [\n        { value: 'On wheels', label: 'On wheels' },\n        { value: 'Box game', label: 'Box game' },\n        { value: 'Art', label: 'Art' },\n        { value: 'Baby', label: 'Baby' },\n        { value: 'Doll', label: 'Doll' },\n        { value: 'Puzzle', label: 'Puzzle' },\n        { value: 'Outdoor', label: 'Outdoor' },\n    ];\n    options2 = [\n        { value: 'all', label: 'All', name: 'sortBy' },\n        { value: 'name', label: 'Name', name: 'sortBy' },\n        { value: 'date', label: 'Date', name: 'sortBy' },\n        { value: 'price', label: 'Price', name: 'sortBy' },\n    ];\n    handleChangeSelect = (event) => {\n        const updatedSelect = event.map(option => option)\n        this.setState({ selectedOptions: updatedSelect }, () => {\n            this.props.handleChange(event);\n        });\n    };\n\n    render() {\n        const { handleChange } = this.props\n        const { selectedOptions } = this.state\n        return (\n            <form className=\"toy-filter\" onSubmit={(ev) => { ev.preventDefault(); }}>\n\n                <div className=\"filter\">\n                    <TextField type='search' variant=\"outlined\" label=\"Filter by toy name\" name='name' className=\"toy-input\" placeholder='Filter by toy name' onChange={handleChange} />\n\n                    <Select className=\"filter-toy\" name='sortBy'\n                        onChange={handleChange}\n                        options={this.options2}\n                    >\n\n                    </Select>\n\n                    <Select\n                        onChange={this.handleChangeSelect}\n                        closeMenuOnSelect={false}\n                        components={animatedComponents}\n                        isMulti\n                        value={selectedOptions}\n                        options={this.options}\n                    />\n\n\n                    <div className=\"toggle_radio\">\n                        <input value={false} name=\"inStock\" onChange={handleChange} type=\"radio\" className=\"toggle_option\" id=\"first_toggle\" />\n                        <label className=\"toggle_label\" htmlFor=\"first_toggle\">All</label>\n                        <input value={true} name=\"inStock\" onChange={handleChange} type=\"radio\" className=\"toggle_option\" id=\"second_toggle\" />\n                        <label className=\"toggle_label\" htmlFor=\"second_toggle\">Stock</label>\n                        <div className=\"toggle_option_slider\"></div>\n                    </div>\n\n\n                </div>\n\n            </form >\n\n\n        )\n    }\n}\n\nToyFilter.propTypes = {\n    handleChange: PropTypes.func.isRequired,\n}","import PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\nexport function ToyPreview({ toy, onRemoveToy, onEditToy, user }) {\n    return (\n        <Link to={`/toy/details/${toy._id}`}>\n            <li className='toy-preview'>\n                <p>{toy.name}</p>\n                <img src={`https://robohash.org/${toy.name}`} alt=\"toy\" />\n                <span><p>Price:{toy.price.toLocaleString()}$</p></span>\n                {!toy.inStock && <span className=\"sold-out\">Sold out</span>}\n                {user && user.isAdmin && <div className=\"toy-preview-btns\">\n                    <button onClick={(event) => { event.preventDefault(); event.stopPropagation(); onRemoveToy(toy._id) }} className=\"trash-btn\"><i className=\"fas fa-trash\"></i></button>\n                    <button onClick={(event) => { event.preventDefault(); event.stopPropagation(); onEditToy(toy._id) }} className=\"edit-btn\"><i className=\"fas fa-edit\"></i></button>\n                </div>}\n            </li>\n        </Link>\n    )\n}\n\nToyPreview.propTypes = {\n    onEditToy: PropTypes.func.isRequired,\n    onRemoveToy: PropTypes.func.isRequired,\n    toy: PropTypes.object.isRequired,\n}\n\n","import PropTypes from 'prop-types'\nimport { ToyPreview } from './ToyPreview'\n\nexport function ToyList({ toys, onRemoveToy, onEditToy, user }) {\n    return (\n        <div className=\"toy-container\">\n            <ul className=\"toy-list\">\n                {toys.map(toy => <ToyPreview toy={toy} user={user} key={toy._id} onEditToy={onEditToy} onRemoveToy={onRemoveToy} />)}\n            </ul>\n        </div >\n    )\n}\n\nToyList.propTypes = {\n    onEditToy: PropTypes.func.isRequired,\n    onRemoveToy: PropTypes.func.isRequired,\n    toys: PropTypes.array.isRequired\n}","import React from 'react';\nimport Select from 'react-select';\n\nexport class ToyAdd extends React.Component {\n    state = {\n        toy: {\n            name: '',\n            price: '',\n            labels: [],\n        },\n        options: [],\n    }\n\n    componentDidMount() {\n        this.loadLabels()\n    }\n\n    loadLabels() {\n        const labels = ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor']\n        const options = labels.map(label => {\n            return { value: label.toLowerCase(), label }\n        })\n        this.setState((prevState) => ({ ...prevState, options }))\n    }\n\n    handleChange = (ev) => {\n        const value = (ev.target.type === 'number') ? +ev.target.value : ev.target.value;\n        const field = ev.target.name;\n        this.setState((prevState) => ({ ...prevState, toy: { ...prevState.toy, [field]: value } }))\n    }\n\n    handleSelectChange = (ev) => {\n        const value = ev;\n        if (value.length > 3) return;\n        this.setState((prevState) => ({ ...prevState, toy: { ...prevState.toy, labels: value } }))\n    }\n\n    onSubmit = (ev) => {\n        ev.preventDefault()\n        const { onAddToy, onToggleAdd } = this.props\n        onAddToy(this.state.toy)\n        onToggleAdd()\n    }\n\n    render() {\n        const { toy, options } = this.state\n        const { onToggleAdd } = this.props\n        return (\n            <div className=\"add-toy\">\n                <form onSubmit={(event) => { this.onSubmit(event) }}>\n                    <label htmlFor=\"name\">\n                        <input type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Enter toy name \" id=\"name\"\n                            value={toy.name}\n                            onChange={this.handleChange}\n                            required\n                        />\n                    </label>\n\n                    <label htmlFor=\"price\">\n                        <input type=\"number\"\n                            name=\"price\"\n                            placeholder=\"Enter toy price\"\n                            id=\"price\"\n                            value={toy.price} onChange={this.handleChange}\n                            required\n                        />\n                    </label>\n\n                    <Select\n                        className=\"select\"\n                        value={toy.labels}\n                        isMulti\n                        onChange={this.handleSelectChange}\n                        options={options}\n                        placeholder=\"Choose up to 3 labels :\"\n                    />\n\n                    <div className=\"add-btns\">\n                        <button className=\"btn add\" type=\"submit\" >\n                            <span className=\"fas fa-plus\"></span>\n                        </button>\n\n                        <button className=\"btn cancel\" onClick={onToggleAdd}>\n                            <span className=\"fas fa-undo-alt\"></span>\n                        </button>\n                    </div>\n                </form>\n\n\n            </div>\n        )\n    }\n}","import { httpService } from './http.service';\r\n\r\nexport const toyService = {\r\n  query,\r\n  getById,\r\n  save,\r\n  remove,\r\n  update,\r\n};\r\n\r\nasync function query(filterBy) {\r\n  const toys = await httpService.get(`toy`, { params: filterBy });\r\n  return toys;\r\n}\r\n\r\nasync function getById(toyId) {\r\n  const toy = await httpService.get(`toy/${toyId}`);\r\n  return toy;\r\n}\r\n\r\nasync function save(toy) {\r\n  const savedToy = await httpService.post('toy', toy);\r\n  return savedToy;\r\n}\r\n\r\nasync function update(toy) {\r\n  const updatedToy = await httpService.put('toy', toy);\r\n  return updatedToy;\r\n}\r\n\r\nasync function remove(toyId) {\r\n  await httpService.delete(`toy/${toyId}`);\r\n}\r\n","function on(eventName, listener) {\r\n\r\n    const callListener = ({ detail }) => {\r\n        listener(detail);\r\n    };\r\n\r\n    window.addEventListener(eventName, callListener);\r\n\r\n    return () => {\r\n        window.removeEventListener(eventName, callListener);\r\n    };\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\r\n}\r\n\r\nexport const eventBusService = { on, emit };\r\n\r\nexport function showUserMsg(txt, type = '') {\r\n    eventBusService.emit('show-user-msg', { txt, type })\r\n}\r\nexport function showSuccessMsg(txt) {\r\n    showUserMsg(txt, 'success')\r\n}\r\nexport function showErrorMsg(txt) {\r\n    showUserMsg(txt, 'danger')\r\n}\r\n\r\nwindow.myBus = eventBusService;\r\nwindow.showUserMsg = showUserMsg;\r\n\r\n","import { toyService } from '../services/toy.service.js';\nimport { showSuccessMsg, showErrorMsg } from '../services/event-bus.service.js';\n\nexport function loadToys(filterBy) {\n  return async (dispatch) => {\n    try {\n      const toys = await toyService.query(filterBy);\n      dispatch({\n        type: 'SET_TOYS',\n        toys,\n      });\n    } catch (err) {\n      showErrorMsg('Cannot load toys');\n    }\n  };\n}\n\nexport function onRemoveToy(toyId) {\n  return async (dispatch) => {\n    try {\n      await toyService.remove(toyId);\n      dispatch({\n        type: 'REMOVE_TOY',\n        toyId,\n      });\n      showSuccessMsg('Toy removed');\n    } catch (err) {\n      showErrorMsg('Cannot remove toy');\n      console.log('Cannot remove toy', err);\n    }\n  };\n}\n\nexport function onAddToy(toy) {\n  return async (dispatch) => {\n    try {\n      const res = await toyService.save(toy);\n      dispatch({\n        type: 'ADD_TOY',\n        toy: res,\n      });\n      console.log('Added toy', res.data);\n      showSuccessMsg('Toy added');\n    } catch (err) {\n      console.log('Cannot add toy', err);\n      showErrorMsg('Cannot add toy');\n    }\n  };\n}\n\nexport function onEditToy(toyToSave) {\n  return async (dispatch) => {\n    try {\n      const savedToy = await toyService.update(toyToSave);\n      dispatch({\n        type: 'UPDATE_TOY',\n        toy: savedToy,\n      });\n      showSuccessMsg('Toy updated');\n      return savedToy;\n    } catch (err) {\n      showErrorMsg('Cannot update toy');\n      console.log('Cannot save toy', err);\n    }\n  };\n}\n\nexport function handleChange(event, filterBy) {\n  return (dispatch) => {\n    var name, value;\n    var filter;\n    if (Array.isArray(event)) {\n      filter = { selectedOptions: event.map((option) => option.label) };\n    } else if (event.label && event.value) {\n      filter = { [event.name]: event.value };\n    } else {\n      name = event.target.name;\n      value = event.target.value;\n      filter = { [name]: value };\n    }\n    dispatch({\n      type: 'SET_FILTER',\n      filterBy: filter,\n    });\n    loadToys({ ...filterBy, ...filter })(dispatch);\n  };\n}\n\nexport function resetFilter() {\n  return (dispatch) => {\n    dispatch({\n      type: 'SET_FILTER',\n      filterBy: { name: '', inStock: true, sortBy: 'all', selectedOptions: [] },\n    });\n  };\n}\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { ToyFilter } from '../cmps/ToyFilter';\r\nimport { ToyList } from '../cmps/ToyList';\r\nimport { ToyAdd } from '../cmps/ToyAdd.jsx';\r\nimport {\r\n  loadToys,\r\n  onAddToy,\r\n  onEditToy,\r\n  onRemoveToy,\r\n  handleChange,\r\n  resetFilter,\r\n} from '../store/toy.actions.js';\r\n\r\nclass _ToyApp extends React.Component {\r\n  state = {\r\n    isAdd: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.loadToys(this.props.filterBy);\r\n  }\r\n\r\n  onRemoveToy = (toyId) => {\r\n    this.props.onRemoveToy(toyId);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.props.resetFilter();\r\n  }\r\n\r\n  onAddToy = (toy) => {\r\n    toy.labels = toy.labels.map((option) => option.label);\r\n    this.props.onAddToy(toy);\r\n    this.onToggleAdd();\r\n  };\r\n\r\n  onToggleAdd = () => {\r\n    this.setState({ isAdd: !this.state.isAdd });\r\n  };\r\n\r\n  onEditToy = (toyId) => {\r\n    this.props.history.push(`/toy/edit/${toyId}`);\r\n  };\r\n\r\n  onHandleChange = (event) => {\r\n    this.props.handleChange(event, this.props.filterBy);\r\n  };\r\n\r\n  render() {\r\n    const { toys, user } = this.props;\r\n    const { isAdd } = this.state;\r\n    return (\r\n      <main className='toy-app'>\r\n        <ToyFilter handleChange={this.onHandleChange} />\r\n        {isAdd && user && user.isAdmin && (\r\n          <ToyAdd onAddToy={this.onAddToy} onToggleAdd={this.onToggleAdd} />\r\n        )}\r\n        {!isAdd && user && user.isAdmin && (\r\n          <div className='wrap'>\r\n            <button onClick={this.onToggleAdd}>Add Toy</button>\r\n          </div>\r\n        )}\r\n        <ToyList\r\n          toys={toys}\r\n          user={user}\r\n          onRemoveToy={this.onRemoveToy}\r\n          onEditToy={this.onEditToy}\r\n        />\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    toys: state.toyModule.toys,\r\n    filterBy: state.toyModule.filterBy,\r\n    user: state.userModule.user,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadToys,\r\n  onRemoveToy,\r\n  onAddToy,\r\n  onEditToy,\r\n  handleChange,\r\n  resetFilter,\r\n};\r\n\r\nexport const ToyApp = connect(mapStateToProps, mapDispatchToProps)(_ToyApp);\r\n\r\n_ToyApp.propTypes = {\r\n  loadToys: PropTypes.func.isRequired,\r\n  onAddToy: PropTypes.func.isRequired,\r\n  onEditToy: PropTypes.func.isRequired,\r\n  onRemoveToy: PropTypes.func.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  resetFilter: PropTypes.func.isRequired,\r\n  toys: PropTypes.array.isRequired,\r\n  filterBy: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\nimport { Modal } from \"react-responsive-modal\";\nimport \"react-responsive-modal/styles.css\";\nimport { Button, TextField } from '@material-ui/core';\nimport { Rating, Box } from '@mui/material';\nimport StarIcon from '@mui/icons-material/Star';\n\nexport class ReviewModal extends React.Component {\n    state = {\n        open: this.props.open,\n        review: { comment: '', rating: 0 },\n        hover: -1\n    }\n\n\n    labels = {\n        1: 'Useless',\n        2: 'Poor',\n        3: 'Ok',\n        4: 'Good',\n        5: 'Excellent',\n    };\n\n    componentDidMount() {\n        this.setState({ review: { comment: '', rating: null }, open: this.props.open })\n    }\n\n    handleChange = ({ target }) => {\n        const field = target.name\n        const value = target.type === 'number' ? +target.value : target.value\n        this.setState(prevState => ({ ...prevState, review: { ...prevState.review, [field]: value } }))\n    }\n\n    onAddReview = (ev) => {\n        ev.preventDefault()\n        const { review, hover } = this.state\n        const { rating } = this.state.review\n        if (!rating) return\n        this.props.toggleModal()\n        review.comment = this.labels[hover !== -1 ? hover : rating] + ': ' + review.comment;\n        this.props.addToyReview(review)\n        this.setState(prevState => ({\n            ...prevState,\n            review: { ...prevState.review, rating: null },\n            open: false\n        }))\n    }\n\n    setRating = ({ target }) => {\n        this.setState(prevState => ({ review: { ...prevState.review, rating: +target.value } }))\n    }\n\n    setHover = (hover) => {\n        this.setState({ hover })\n    }\n\n    render() {\n        const { comment, rating } = this.state.review\n        const { hover } = this.state\n        const { open, toggleModal } = this.props\n        return (\n            <div>\n                <Modal open={open} onClose={toggleModal}>\n                    <form className=\"review-add\" onSubmit={this.onAddReview}>\n                        <h2>Review</h2>\n                        <div className=\"modal-body\">\n                            <TextField\n                                id=\"outlined-multiline-flexible\"\n                                label=\"Enter Review\"\n                                variant={'outlined'}\n                                type=\"text\" name=\"comment\"\n                                multiline\n                                rows={4}\n                                value={comment}\n                                color={'primary'}\n                                onChange={this.handleChange}\n                                required\n                            />\n                            <div className=\"modal-rating\">\n\n                                <Rating\n                                    onChange={this.setRating}\n                                    size=\"large\"\n                                    onChangeActive={(event, newHover) => {\n                                        this.setHover(newHover);\n                                    }}\n                                    emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\n                                    value={rating}\n                                />\n                                {hover !== -1 && (\n                                    <Box sx={{ ml: 2 }}>{this.labels[hover !== -1 ? hover : rating]}</Box>\n                                )}\n                            </div>\n                        </div>\n                        <Button\n                            fullWidth\n                            variant={'contained'}\n                            color={'primary'}\n                            type=\"submit\"\n                        >\n                            Add Review\n                        </Button>\n                    </form>\n                </Modal>\n            </div>\n\n        )\n    }\n}\n\n\n","export const utilService = {\r\n  makeId,\r\n  makeLorem,\r\n  getRandomIntInclusive,\r\n  formatDate,\r\n};\r\n\r\nfunction makeId(length = 6) {\r\n  var txt = '';\r\n  var possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n  for (var i = 0; i < length; i++) {\r\n    txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }\r\n\r\n  return txt;\r\n}\r\n\r\nfunction makeLorem(size = 100) {\r\n  var words = [\r\n    'The sky',\r\n    'above',\r\n    'the port',\r\n    'was',\r\n    'the color of television',\r\n    'tuned',\r\n    'to',\r\n    'a dead channel',\r\n    '.',\r\n    'All',\r\n    'this happened',\r\n    'more or less',\r\n    '.',\r\n    'I',\r\n    'had',\r\n    'the story',\r\n    'bit by bit',\r\n    'from various people',\r\n    'and',\r\n    'as generally',\r\n    'happens',\r\n    'in such cases',\r\n    'each time',\r\n    'it',\r\n    'was',\r\n    'a different story',\r\n    '.',\r\n    'It',\r\n    'was',\r\n    'a pleasure',\r\n    'to',\r\n    'burn',\r\n  ];\r\n  var txt = '';\r\n  while (size > 0) {\r\n    size--;\r\n    txt += words[Math.floor(Math.random() * words.length)] + ' ';\r\n  }\r\n  return txt;\r\n}\r\n\r\nfunction formatDate(d) {\r\n  d = new Date(d);\r\n  return (\r\n    ('0' + d.getDate()).slice(-2) +\r\n    '/' +\r\n    ('0' + (d.getMonth() + 1)).slice(-2) +\r\n    '/' +\r\n    d.getFullYear() +\r\n    ', ' +\r\n    ('0' + d.getHours()).slice(-2) +\r\n    ':' +\r\n    ('0' + d.getMinutes()).slice(-2)\r\n  );\r\n}\r\n\r\nfunction getRandomIntInclusive(min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { utilService } from '../services/util.service';\nimport { Rating } from '@mui/material';\nimport { Avatar } from '@material-ui/core';\n\nexport function ReviewPreview({ review, removeToyReview, user }) {\n  if (!review.toy) {\n    return <div>Loading...</div>;\n  }\n  return (\n    <section className='review'>\n      {user &&\n        (user._id === review.user._id || user.hasOwnProperty('isAdmin')) && (\n          <button\n            onClick={() => {\n              removeToyReview(review._id);\n            }}\n            className='delete-review pointer'\n          >\n            &times;\n          </button>\n        )}\n      <div className='review-header'>\n        <Avatar>{review.user.fullname[0].toUpperCase()}</Avatar>\n        <p> {review.user.fullname}</p>\n        <Rating value={review.rating} readOnly />\n      </div>\n      <div className='review-comment'>\n        <p className='toy-name'>{review.toy.name}</p>\n        <p> {review.comment}</p>\n      </div>\n      <span>{utilService.formatDate(review.createdAt)}</span>\n    </section>\n  );\n}\nReviewPreview.propTypes = {\n  review: PropTypes.object.isRequired,\n};\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { ReviewPreview } from './ReviewPreview'\n\nexport function ReviewList({ reviews, removeToyReview, user }) {\n    return (\n        <div className=\"reviews-list\">\n            {reviews.map((review, idx) => <ReviewPreview key={idx} user={user} removeToyReview={removeToyReview} review={review} />)}\n        </div>\n    )\n}\nReviewList.propTypes = {\n    reviews: PropTypes.array.isRequired\n}","import React from 'react'\n\nexport function ToyMessagePreview({ message }) {\n    return (\n        <div className=\"ai-person-container\">\n            <div className={message.writer}>\n                <p>{message.text}</p>\n            </div>\n            <span className={`${message.writer}-date`}>{message.date}</span>\n        </div>\n    )\n}\n\n","import React from 'react'\nimport { ToyMessagePreview } from './ToyMessagePreview'\n\nexport function ToyMessageList({ messages }) {\n    return (\n        <React.Fragment>\n            {messages.map((message, idx) => <ToyMessagePreview key={idx} message={message} />)}\n        </React.Fragment>\n    )\n}\n\n","import io from 'socket.io-client';\n\nexport const SOCKET_EMIT_USER_WATCH = 'user-watch';\nexport const SOCKET_EVENT_USER_UPDATED = 'user-updated';\nexport const SOCKET_EVENT_REVIEW_ADDED = 'review-added';\nexport const SOCKET_EVENT_REVIEW_ABOUT_YOU = 'review-about-you';\n\nconst baseUrl = process.env.NODE_ENV === 'production' ? '' : '//localhost:3030';\nexport const socketService = createSocketService();\n\nwindow.socketService = socketService;\n\nsocketService.setup();\n\nfunction createSocketService() {\n  var socket = null;\n  const socketService = {\n    setup() {\n      socket = io(baseUrl);\n    },\n    on(eventName, cb) {\n      socket.on(eventName, cb);\n    },\n    off(eventName, cb = null) {\n      if (!socket) return;\n      if (!cb) socket.removeAllListeners(eventName);\n      else socket.off(eventName, cb);\n    },\n    emit(eventName, data) {\n      socket.emit(eventName, data);\n    },\n    terminate() {\n      socket = null;\n    },\n  };\n  return socketService;\n}\n\nfunction createDummySocketService() {\n  var listenersMap = {};\n  const socketService = {\n    listenersMap,\n    setup() {\n      listenersMap = {};\n    },\n    terminate() {\n      this.setup();\n    },\n    on(eventName, cb) {\n      listenersMap[eventName] = [...(listenersMap[eventName] || []), cb];\n    },\n    off(eventName, cb) {\n      if (!listenersMap[eventName]) return;\n      if (!cb) delete listenersMap[eventName];\n      else\n        listenersMap[eventName] = listenersMap[eventName].filter(\n          (l) => l !== cb\n        );\n    },\n    emit(eventName, data) {\n      if (!listenersMap[eventName]) return;\n      listenersMap[eventName].forEach((listener) => {\n        listener(data);\n      });\n    },\n    debugMsg() {\n      this.emit('chat addMsg', { from: 'Someone', txt: 'Aha it worked!' });\n    },\n  };\n  window.listenersMap = listenersMap;\n  return socketService;\n}\n\nsocketService.on(SOCKET_EVENT_REVIEW_ABOUT_YOU, (review) => {\n  console.log('Review about me!', review);\n});\n","import React from 'react';\nimport { ToyMessageList } from './ToyMessageList';\nimport { socketService } from '../services/socket.service';\nimport { TextField, Button } from '@material-ui/core';\nimport SendIcon from '@mui/icons-material/Send';\nexport class ToyMessages extends React.Component {\n  state = {\n    message: {\n      text: '',\n      date: null,\n    },\n    messages: [],\n    user: this.props.user,\n    typingMsg: null,\n  };\n\n  componentDidMount() {\n    socketService.setup();\n    socketService.emit('chat topic', this.props.toy._id);\n    socketService.on('chat addMsg', this.addMsg);\n    socketService.on('chat addTypingMsg', this.addTypingMsg);\n  }\n\n  componentWillUnmount() {\n    socketService.off('chat addMsg', this.addMsg);\n    socketService.off('chat addTypingMsg', this.addTypingMsg);\n    socketService.terminate();\n  }\n\n  addMsg = (newMsg) => {\n    newMsg.writer =\n      this.state.user && newMsg.user === this.state.user.fullname\n        ? 'person'\n        : 'ai';\n    this.setState((prevState) => ({\n      ...prevState,\n      messages: [...prevState.messages, newMsg],\n    }));\n  };\n  addTypingMsg = (typingMsg) => {\n    this.setState((prevState) => ({ ...prevState, typingMsg }));\n  };\n\n  onChangeMessage = (e) => {\n    const { value } = e.target;\n    const { user } = this.props;\n    const msg =\n      value.length > 0 ? `${user?.fullname || 'Guest'} is typing...` : null;\n    socketService.emit('chat typing', msg);\n    this.setState((prevState) => ({\n      ...prevState,\n      message: {\n        ...prevState.message,\n        text: value,\n      },\n    }));\n  };\n\n  onSubmitMessage = (e) => {\n    e.preventDefault();\n    const { message, user } = this.state;\n    const date = new Date().toLocaleString();\n    message.writer = 'person';\n    const from = user?.fullname || 'Guest';\n    const text = `${from}: ${message.text}`;\n    socketService.emit('chat newMsg', { text, user: from, date });\n    socketService.emit('chat typing', null);\n\n    this.setState((prevState) => ({\n      ...prevState,\n      message: { text: '', date: null },\n    }));\n  };\n\n  aiResponse = () => {\n    const { messages } = this.state;\n    const newMessage = {\n      text: 'Support: Yes honey!',\n      date: new Date().toLocaleString(),\n      writer: 'ai',\n    };\n    setTimeout(() => {\n      this.setState((prevState) => ({\n        ...prevState,\n        messages: [...messages, newMessage],\n      }));\n    }, 1000);\n  };\n\n  render() {\n    const { messages, message, typingMsg } = this.state;\n    return (\n      <div className='chat-window flex'>\n        <div className='chat-box'>\n          <h1>Lets Chat</h1>\n          {typingMsg && <p>{typingMsg}</p>}\n          <div className='chat-content'>\n            <ToyMessageList messages={messages} />\n          </div>\n          <div className='chat-controller'>\n            <form\n              className='flex justify-space-between'\n              onSubmit={this.onSubmitMessage}\n            >\n              <TextField\n                required\n                variant='outlined'\n                label='Chat with me'\n                type='text'\n                name='chat-input'\n                value={message.text}\n                onChange={this.onChangeMessage}\n              />\n              <Button type='submit' color='primary'>\n                <SendIcon />\n              </Button>\n            </form>\n          </div>\n        </div>\n        <button onClick={this.props.toggleChat} className='closeChat'>\n          x\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react'\n\nexport function ToyPopup(props) {\n    return (\n        <section className=\"popup\">\n\n\n            <div className=\"main\">\n                {props.children}\n            </div>\n\n\n        </section>\n    )\n}\n","import { httpService } from './http.service';\n\nexport const reviewService = {\n  add,\n  query,\n  remove,\n};\n\nasync function query(filterBy) {\n  var queryStr = !filterBy\n    ? ''\n    : `?userId=${\n        filterBy.hasOwnProperty('userId') ? filterBy.userId : ''\n      }&toyId=${filterBy.hasOwnProperty('toyId') ? filterBy.toyId : ''}`;\n  const reviews = await httpService.get(`review${queryStr}`);\n  return reviews;\n}\n\nasync function remove(reviewId) {\n  return await httpService.delete(`review/${reviewId} `);\n}\nasync function add(review) {\n  const addedReview = await httpService.post(`review`, review);\n\n  return addedReview;\n}\n","import { reviewService } from '../services/review.service';\n\nexport function loadReviews(filterBy) {\n  return async (dispatch) => {\n    try {\n      const reviews = await reviewService.query(filterBy);\n\n      dispatch({ type: 'SET_REVIEWS', reviews });\n    } catch (err) {\n      console.log('ReviewActions: err in loadReviews', err);\n    }\n  };\n}\n\nexport function addReview(review) {\n  return async (dispatch) => {\n    try {\n      const addedReview = await reviewService.add(review);\n      dispatch({ type: 'ADD_REVIEW', review: addedReview });\n      return addedReview;\n    } catch (err) {\n      console.log('ReviewActions: err in addReview', err);\n    }\n  };\n}\n\nexport function removeReview(reviewId) {\n  return async (dispatch) => {\n    try {\n      console.log(`reviewId`, reviewId);\n      await reviewService.remove(reviewId);\n      dispatch({ type: 'REMOVE_REVIEW', reviewId });\n    } catch (err) {\n      console.log('ReviewActions: err in removeReview', err);\n    }\n  };\n}\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { ReviewModal } from '../cmps/ReviewModal';\r\nimport { toyService } from '../services/toy.service';\r\nimport { ReviewList } from '../cmps/ReviewList';\r\nimport { ToyMessages } from '../cmps/ToyMessages';\r\nimport { ToyPopup } from '../cmps/ToyPopup';\r\nimport { addReview, loadReviews, removeReview } from '../store/review.actions';\r\nimport ChatRoundedIcon from '@mui/icons-material/ChatRounded';\r\n\r\nexport class _ToyDetails extends React.Component {\r\n  state = {\r\n    toy: null,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { toyId } = this.props.match.params;\r\n    const toy = await toyService.getById(toyId);\r\n    await this.props.loadReviews({ toyId });\r\n    this.setState((prevState) => ({ ...prevState, toy }));\r\n    document.body.addEventListener('keydown', this.escFunction, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.body.removeEventListener('keydown', this.escFunction, false);\r\n  }\r\n\r\n  toggleChat = () => {\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      isChatOpen: !prevState.isChatOpen,\r\n    }));\r\n  };\r\n\r\n  toggleReviewAdd = () => {\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      isReviewAdd: !prevState.isReviewAdd,\r\n    }));\r\n  };\r\n\r\n  escFunction = (event) => {\r\n    if (event.keyCode === 27) {\r\n      this.setState((prevState) => ({ ...prevState, isChatOpen: false }));\r\n    }\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      isReviewAdd: !prevState.isReviewAdd,\r\n    }));\r\n  };\r\n\r\n  addToyReview = async (review) => {\r\n    const { toyId } = this.props.match.params;\r\n    review.toyId = toyId;\r\n    await this.props.addReview(review);\r\n    await this.props.loadReviews({ toyId });\r\n  };\r\n\r\n  removeToyReview = async (reviewId) => {\r\n    await this.props.removeReview(reviewId);\r\n  };\r\n\r\n  render() {\r\n    const { toy, isChatOpen, isReviewAdd } = this.state;\r\n    const { user, reviews } = this.props;\r\n\r\n    if (!toy) return <div>Loading...</div>;\r\n    return (\r\n      <div className='container'>\r\n        <div className='product-image'>\r\n          <img\r\n            src={`https://robohash.org/${toy.name}`}\r\n            alt=''\r\n            className='product-logo'\r\n          />\r\n        </div>\r\n\r\n        <div className='product-details'>\r\n          <header>\r\n            <h1 className='title'>{toy.name}</h1>\r\n            <div className='price'>\r\n              <span className='before'>{toy.price * 2}$</span>\r\n              <span className='current'>{toy.price}$</span>\r\n            </div>\r\n          </header>\r\n          <article>\r\n            <h5>Description</h5>\r\n            <p>\r\n              Lorem ipsum dolorl sit amet, consectetur adipiscing elit, sed do\r\n              eiusmod tempor incididunt ut labore et dolore magna aliqua.Ut enim\r\n              ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut\r\n              aliquip ex ea commodo consequat.\r\n            </p>\r\n          </article>\r\n          <div className='controls'>\r\n            <div className='labels'>\r\n              <div className='toy-labels'>\r\n                {toy.labels.map((label, idx) => (\r\n                  <div key={idx}>\r\n                    <p className='label'>{label}</p>\r\n                  </div>\r\n                ))}\r\n                <div>\r\n                  <p className={`label-${toy.inStock ? 'green' : 'red'}`}>\r\n                    {toy.inStock ? 'In Stock' : 'Sold Out'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {!user && (\r\n            <p>\r\n              To write a review please login <Link to='/login'> Here</Link>\r\n            </p>\r\n          )}\r\n\r\n          {reviews.length > 0 && (\r\n            <div className='reviews-container'>\r\n              <ReviewList\r\n                user={user}\r\n                removeToyReview={this.removeToyReview}\r\n                reviews={reviews}\r\n              />\r\n            </div>\r\n          )}\r\n          <ReviewModal />\r\n\r\n          {isChatOpen && (\r\n            <ToyPopup>\r\n              <ToyMessages toy={toy} user={user} toggleChat={this.toggleChat} />\r\n            </ToyPopup>\r\n          )}\r\n          {!isChatOpen && (\r\n            <button onClick={this.toggleChat} className='chat-button'>\r\n              <ChatRoundedIcon />\r\n            </button>\r\n          )}\r\n          <div className='details-btns'>\r\n            <Link to='/toy' className='back' type='button'>\r\n              <span>Back Toys</span>\r\n            </Link>\r\n            {user && (\r\n              <button className='back' onClick={this.toggleReviewAdd}>\r\n                <span>Add Review</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n          <ReviewModal\r\n            open={isReviewAdd}\r\n            addToyReview={this.addToyReview}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    user: state.userModule.user,\r\n    reviews: state.reviewModule.reviews,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loadReviews,\r\n  removeReview,\r\n  addReview,\r\n};\r\n\r\nexport const ToyDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_ToyDetails);\r\n\r\n_ToyDetails.propTypes = {\r\n  addReview: PropTypes.func.isRequired,\r\n  loadReviews: PropTypes.func.isRequired,\r\n  removeReview: PropTypes.func.isRequired,\r\n  reviews: PropTypes.array.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { toyService } from '../services/toy.service';\r\nimport { onEditToy } from '../store/toy.actions';\r\nimport { Button, Input } from '@material-ui/core';\r\n\r\nclass _ToyEdit extends React.Component {\r\n  state = {\r\n    toy: null,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { toyId } = this.props.match.params;\r\n    const toy = await toyService.getById(toyId);\r\n    this.setState((prevState) => ({ ...prevState, toy }));\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name } = event.target;\r\n    const value =\r\n      event.target.type === 'number' ? +event.target.value : event.target.value;\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      toy: { ...prevState.toy, [name]: value },\r\n    }));\r\n  };\r\n\r\n  onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const { toy } = this.state;\r\n    await this.props.onEditToy(toy);\r\n    this.props.history.push('/toy');\r\n  };\r\n\r\n  render() {\r\n    const { toy } = this.state;\r\n    if (!toy) return <div> Loading...</div>;\r\n    return (\r\n      <div className='container'>\r\n        <div className='product-image'>\r\n          <img\r\n            src={`https://robohash.org/${toy.name}`}\r\n            alt=''\r\n            className='product-logo'\r\n          />\r\n        </div>\r\n\r\n        <div className='product-details'>\r\n          <header>\r\n            <h1 className='title'>{toy.name}</h1>\r\n          </header>\r\n          <form className='edit-toy' onSubmit={this.onSubmit}>\r\n            <Input\r\n              type='text'\r\n              name='name'\r\n              value={toy.name}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <Input\r\n              type='number'\r\n              name='price'\r\n              value={toy.price}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            <Button type='submit' className='back'>\r\n              Submit Edit\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onEditToy,\r\n};\r\n\r\nexport const ToyEdit = connect(mapStateToProps, mapDispatchToProps)(_ToyEdit);\r\n\r\n_ToyEdit.propTypes = {\r\n  onEditToy: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\nimport { Pie } from 'react-chartjs-2';\nexport function ToyChartPie({ data, labels }) {\n    const toyData = {\n        labels: ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor'],\n        datasets: [\n            {\n                label: '# of Toys',\n                data,\n                backgroundColor: [\n                    'rgba(255, 99, 132, 0.2)',\n                    'rgba(54, 162, 235, 0.2)',\n                    'rgba(255, 206, 86, 0.2)',\n                    'rgba(75, 192, 192, 0.2)',\n                    'rgba(153, 102, 255, 0.2)',\n                    'rgba(255, 159, 64, 0.2)',\n                    'rgba(255, 255, 100, 0.2)'\n\n                ],\n                borderColor: [\n                    'rgba(255, 99, 132, 1)',\n                    'rgba(54, 162, 235, 1)',\n                    'rgba(255, 206, 86, 1)',\n                    'rgba(75, 192, 192, 1)',\n                    'rgba(153, 102, 255, 1)',\n                    'rgba(255, 159, 64, 1)',\n                    'rgba(255, 255, 100, 1)'\n\n                ],\n                borderWidth: 3,\n            },\n        ],\n    };\n\n\n\n    return (\n        <Pie data={toyData}\n            width={350}\n            height={350}\n            options={{ maintainAspectRatio: false }} />\n    )\n}","import React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\n\nexport function ToyChartDoughnut({ data }) {\n    const toyData = {\n        labels: ['150', '199', '255', '400', '800', '1000'],\n        datasets: [\n            {\n                label: '# of Toys',\n                data,\n                backgroundColor: [\n                    'rgba(255, 99, 132, 0.2)',\n                    'rgba(54, 162, 235, 0.2)',\n                    'rgba(255, 206, 86, 0.2)',\n                    'rgba(75, 192, 192, 0.2)',\n                    'rgba(153, 102, 255, 0.2)',\n                    'rgba(255, 199, 64, 0.2)'\n\n\n                ],\n                borderColor: [\n                    'rgba(255, 99, 132, 1)',\n                    'rgba(54, 162, 235, 1)',\n                    'rgba(255, 206, 86, 1)',\n                    'rgba(75, 192, 192, 1)',\n                    'rgba(153, 102, 255, 1)',\n                    'rgba(255, 199, 64, 1)'\n\n                ],\n                borderWidth: 3,\n            },\n        ],\n    };\n\n\n\n    return (\n        <Doughnut data={toyData}\n            width={350}\n            height={350}\n            options={{ maintainAspectRatio: false }} />\n    )\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { ToyChartPie } from './ToyChartPie';\nimport { ToyChartDoughnut } from './ToyChartDoughnut';\n\n\nconst _ToyChart = ({ toys }) => {\n    const calcChartPie = () => {\n        const toyTypes = ['On wheels', 'Box game', 'Art', 'Baby', 'Doll', 'Puzzle', 'Outdoor'];\n        const toyCounts = [];\n        for (let i = 0; i < toyTypes.length; i++) {\n            toyCounts.push(0);\n        }\n\n        for (let i = 0; i < toys.length; i++) {\n            for (let j = 0; j < toys[i].labels.length; j++) {\n                toyCounts[toyTypes.indexOf(toys[i].labels[j])]++;\n            }\n        }\n        return toyCounts;\n    }\n\n    const calcChartDoughnut = () => {\n        const toyPrices = [150, 199, 255, 400, 800, 1000];\n        const toyCounts = [];\n        for (let i = 0; i < toyPrices.length; i++) {\n            toyCounts.push(0);\n        }\n        for (let i = 0; i < toys.length; i++) {\n            toyCounts[toyPrices.indexOf(toys[i].price)]++;\n        }\n        return toyCounts;\n    }\n\n    return (\n        <div className=\"charts\">\n            <div className=\"chart\">\n                <h1>Label statistics:</h1>\n                <div>\n                    <ToyChartPie data={calcChartPie()} />\n                </div>\n            </div>\n            <div className=\"chart\">\n                <h1>Price statistics:</h1>\n                <div>\n                    <ToyChartDoughnut data={calcChartDoughnut()} />\n                </div>\n            </div>\n        </div>\n    )\n};\n\nfunction mapStateToProps(state) {\n    return {\n        toys: state.toyModule.toys,\n    }\n}\n\n\nexport const ToyChart = connect(mapStateToProps, null)(_ToyChart)\n","import { userService } from \"../services/user.service.js\";\nimport { showErrorMsg } from '../services/event-bus.service.js'\n\nexport function onLogin(credentials) {\n    return (dispatch) => {\n        return userService.login(credentials)\n            .then(user => {\n                dispatch({\n                    type: 'SET_USER',\n                    user\n                })\n                return user;\n            })\n            .catch(err => {\n                showErrorMsg('Cannot login')\n                console.log('Cannot login', err)\n            })\n    }\n}\n\nexport function onSignup(credentials) {\n    return (dispatch) => {\n        return userService.signup(credentials)\n            .then(user => {\n                dispatch({\n                    type: 'SET_USER',\n                    user\n                })\n                return user;\n            })\n            .catch(err => {\n                showErrorMsg('Cannot signup')\n                console.log('Cannot signup', err)\n            })\n\n    }\n}\n\nexport function onLogout() {\n    return (dispatch) => {\n        userService.logout()\n            .then(() => dispatch({\n                type: 'SET_USER',\n                user: null\n            }))\n            .catch(err => {\n                showErrorMsg('Cannot logout')\n                console.log('Cannot logout', err)\n            })\n    }\n}\n\nexport function onEditUser(user) {\n    return (dispatch) => {\n        userService.update(user)\n            .then(() => dispatch({\n                type: 'UPDATE_USER',\n                user\n            }))\n            .catch(err => {\n                showErrorMsg('Cannot update')\n                console.log('Cannot update user', err)\n            })\n    }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { onLogin, onSignup } from '../store/user.actions.js'\nimport { showErrorMsg } from '../services/event-bus.service.js'\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { Button, TextField, Avatar, Grid, Typography, Container } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport {\n    Accordion,\n    AccordionItem,\n    AccordionItemHeading,\n    AccordionItemButton,\n    AccordionItemPanel,\n} from 'react-accessible-accordion';\nimport 'react-accessible-accordion/dist/fancy-example.css';\n\nclass _ToyLoginSignup extends React.Component {\n    state = {\n        isSignup: false\n    }\n    AcordionContent = [\n        { heading: 'Want to be admin?', content: 'Login with this credentials Username: admin and Password: admin ' },\n    ]\n    componentDidMount() {\n        if (this.props.user) this.props.history.push('/')\n    }\n\n    toggleSignup = () => {\n        this.setState({ isSignup: !this.state.isSignup })\n    }\n\n    validate = (values) => {\n        const errors = {};\n        if (!values.username) {\n            errors.username = 'Required username';\n        }\n        if (!values.password) {\n            errors.password = 'Required password';\n        }\n        if (this.state.isSignup && !values.fullname) {\n            errors.fullname = 'Required fullname';\n        }\n        return errors;\n    }\n\n    onFormSubmit = async (values, { setSubmitting }) => {\n        try {\n            const res = this.state.isSignup ? await this.props.onSignup(values) : await this.props.onLogin(values)\n            if (!res) {\n                (this.state.isSignup) ? showErrorMsg('User already exists') : showErrorMsg('Wrong credentials')\n            } else {\n                this.props.history.push('/')\n            }\n        } catch (err) {\n            console.log(err);\n        } finally {\n            setSubmitting(false);\n        }\n    }\n\n\n    render() {\n        const { isSignup } = this.state;\n        const initialValues = { fullname: '', username: '', password: '' }\n        const TextFieldOutlined = (props) => <TextField {...props} variant={'outlined'} color={'primary'} />\n        return (\n            <>\n                <Container component=\"main\" className=\"login-container\" maxWidth=\"xs\">\n                    <div className=\"flex column align-center\">\n                        <Avatar className=\"avatar\" >\n                            <LockOutlinedIcon />\n                        </Avatar>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            {isSignup ? 'Signup' : 'Login'}\n                        </Typography>\n                        <Formik\n                            initialValues={initialValues}\n                            validate={this.validate}\n                            onSubmit={this.onFormSubmit}\n                        >\n                            {({ isSubmitting }) => (\n                                <Form style={{ width: '100%' }}>\n                                    {isSignup && <>\n                                        <Field\n                                            variant=\"outlined\"\n                                            margin=\"normal\"\n                                            fullWidth\n                                            name=\"fullname\"\n                                            label=\"Full Name\"\n                                            type=\"text\"\n                                            autoComplete=\"current-password\"\n                                            as={TextFieldOutlined}\n                                            required\n                                        />\n                                        <ErrorMessage name=\"fullname\" component=\"div\" />\n                                    </>\n\n                                    }\n                                    <Field\n                                        margin=\"normal\"\n                                        fullWidth\n                                        label=\"Username\"\n                                        name=\"username\"\n                                        autoComplete=\"username\"\n                                        as={TextFieldOutlined}\n                                        required\n                                    />\n                                    <ErrorMessage name=\"username\" component=\"div\" />\n                                    <Field\n                                        margin=\"normal\"\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Password\"\n                                        type=\"password\"\n                                        autoComplete=\"current-password\"\n                                        as={TextFieldOutlined}\n                                        required\n                                    />\n                                    <ErrorMessage name=\"password\" component=\"div\" />\n                                    <Button\n                                        fullWidth\n                                        variant={'contained'}\n                                        color={'primary'}\n                                        type=\"submit\"\n                                        disabled={isSubmitting}>\n                                        {!isSignup ? 'Login' : 'Signup'}\n                                    </Button>\n\n                                </Form>\n                            )}\n                        </Formik>\n                        <Grid container>\n                            <Grid item>\n                                <Link to=\"/login\" onClick={this.toggleSignup} style={{ color: \"black\" }}>\n                                    {!isSignup ? \"Don't have an account? Sign Up\" : 'Already have an account? Login'}\n                                </Link>\n                            </Grid>\n                        </Grid>\n                    </div>\n                    <br />\n                    <Accordion className=\"about-acord\" allowZeroExpanded allowMultipleExpanded>\n                        {this.AcordionContent.map((singleAccordion, idx) =>\n                        (<AccordionItem key={idx}>\n                            <AccordionItemHeading>\n                                <AccordionItemButton>\n                                    {singleAccordion.heading}\n                                </AccordionItemButton>\n                            </AccordionItemHeading>\n                            <AccordionItemPanel>\n                                <p>\n                                    {singleAccordion.content}\n                                </p>\n                            </AccordionItemPanel>\n                        </AccordionItem>)\n                        )}\n                    </Accordion>\n                </Container>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user\n    }\n}\nconst mapDispatchToProps = {\n    onLogin,\n    onSignup,\n}\n\n\n\nexport const ToyLoginSignup = connect(mapStateToProps, mapDispatchToProps)(_ToyLoginSignup)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { TextField } from '@material-ui/core'\n\n\nclass _ToyUserEdit extends React.Component {\n    state = {\n        user: null\n    }\n    componentDidMount() {\n        this.setState({ user: { ...this.props.user } })\n    }\n\n    handleChange = (event) => {\n        const { name, value } = event.target\n        this.setState((prevState) => ({ ...prevState, user: { ...prevState.user, [name]: value } }))\n    }\n\n    onSubmit = async (event) => {\n        event.preventDefault()\n        const { user } = this.state\n        this.props.handleEdit(user)\n    }\n\n\n    render() {\n        const { user } = this.state\n        if (!user) return <div> Loading...</div>\n        return (\n            <form className=\"edit-user\" onSubmit={this.onSubmit}>\n                <TextField value={user.username} type='text' variant=\"outlined\" label=\"Edit Username\" name='username' onChange={this.handleChange} />\n                <TextField value={user.fullname} type='text' variant=\"outlined\" label=\"Edit Fullname\" name='fullname' onChange={this.handleChange} />\n                <button>Submit</button>\n            </form>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user\n    }\n}\n\nexport const ToyUserEdit = connect(mapStateToProps, null)(_ToyUserEdit)\n\n","import React from 'react'\nimport { Avatar } from '@material-ui/core';\nimport { connect } from 'react-redux'\nimport { ReviewList } from '../cmps/ReviewList.jsx'\nimport PropTypes from 'prop-types'\nimport { loadReviews, removeReview } from '../store/review.actions'\nimport { onEditUser } from '../store/user.actions'\nimport { ToyUserEdit } from '../cmps/ToyUserEdit'\n\nimport { Link } from 'react-router-dom';\n\nclass _ToyUserDetails extends React.Component {\n    state = {\n        isEdit: false\n    }\n    async componentDidMount() {\n        if (!this.props.user) {\n            this.props.history.push('/')\n            return\n        }\n        const userId = this.props.user._id\n        await this.props.loadReviews({ userId })\n        this.setState({ isEdit: false })\n    }\n\n    removeToyReview = async (reviewId) => {\n        await this.props.removeReview(reviewId)\n    }\n\n    handleEdit = async (user) => {\n        await this.props.onEditUser(user)\n        this.toggleEdit()\n    }\n\n    toggleEdit = () => {\n        this.setState(prevState => ({ ...prevState, isEdit: !this.state.isEdit }))\n    }\n\n    render() {\n        const { user, reviews } = this.props\n        const { isEdit } = this.state\n        if (!user) return <div>Loading...</div>\n        return (\n            <div className=\"card\">\n                <div className=\"card__header\">\n                    <div className=\"card__profile\">\n                        <Avatar >{user.fullname[0].toUpperCase()}</Avatar>\n                    </div>\n                    <div className=\"card__name\">\n                        <p>Hi, {user.fullname}</p>\n                    </div>\n                    <div className=\"card__button\">\n                        <button onClick={this.toggleEdit}>\n                            <span>{(isEdit ? 'Back' : 'Edit')}</span>\n                        </button>\n                    </div>\n                </div>\n                <hr className=\"border\" />\n                <div className=\"card__insights\">\n                    <div className=\"card__heading\">\n                        <div className=\"heading\">{!isEdit ? 'My Reviews' : 'User Edit'}</div>\n                    </div>\n                </div>\n                {!isEdit && <>\n                    <div className=\"insights\">\n                        {reviews.length > 0 && <div className=\"reviews-container\">\n                            <ReviewList user={user} removeToyReview={this.removeToyReview} reviews={reviews} />\n                        </div>\n                        }\n                        {!reviews.length && <>\n                            <span>You dont have any reviews yet, Check our toys  <Link to='/toy'>Here</Link></span>\n                        </>\n                        }\n                    </div>\n                </>}\n                {isEdit && <ToyUserEdit handleEdit={this.handleEdit} />}\n\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userModule.user,\n        reviews: state.reviewModule.reviews\n    }\n}\n\nconst mapDispatchToProps = {\n    loadReviews,\n    removeReview,\n    onEditUser\n}\n\nexport const ToyUserDetails = connect(mapStateToProps, mapDispatchToProps)(_ToyUserDetails)\n\n_ToyUserDetails.propTypes = {\n    user: PropTypes.object,\n    reviews: PropTypes.array,\n    loadReviews: PropTypes.func,\n    removeReview: PropTypes.func,\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { ReviewList } from '../cmps/ReviewList.jsx'\nimport PropTypes from 'prop-types'\nimport { loadReviews } from '../store/review.actions'\n\nclass _ToyReviews extends React.Component {\n\n    async componentDidMount() {\n        await this.props.loadReviews({})\n    }\n\n    render() {\n        const { reviews } = this.props\n        return (\n            <div className=\"card\">\n                <div className=\"card__header\">\n                    <div className=\"card__name\">\n                        <p>People Review Us:</p>\n                    </div>\n                </div>\n                <hr className=\"border\" />\n                <div className=\"card__insights\">\n                    <div className=\"card__heading\">\n                        <div className=\"heading\">Store Reviews</div>\n                    </div>\n                </div>\n                <div className=\"insights\">\n                    {reviews.length > 0 && <div className=\"reviews-container\">\n                        <ReviewList reviews={reviews} />\n                    </div>\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        reviews: state.reviewModule.reviews\n    }\n}\n\nconst mapDispatchToProps = {\n    loadReviews,\n}\n\nexport const ToyReviews = connect(mapStateToProps, mapDispatchToProps)(_ToyReviews)\n\n_ToyReviews.propTypes = {\n    loadReviews: PropTypes.func.isRequired,\n    reviews: PropTypes.array.isRequired,\n\n}","import { ToyHome } from './pages/ToyHome'\nimport { ToyAbout } from './pages/ToyAbout'\nimport { ToyApp } from './pages/ToyApp'\nimport { ToyDetails } from './pages/ToyDetails'\nimport { ToyEdit } from './pages/ToyEdit'\nimport { ToyChart } from './cmps/ToyChart'\nimport { ToyLoginSignup } from './pages/ToyLoginSignup'\nimport { ToyUserDetails } from './pages/ToyUserDetails'\nimport { ToyReviews } from './pages/ToyReviews'\nconst routes = [\n    {\n        path: '/',\n        component: ToyHome,\n    },\n    {\n        path: '/toy',\n        component: ToyApp,\n    },\n    {\n        path: '/toy/details/:toyId',\n        component: ToyDetails,\n    },\n    {\n        path: '/toy/edit/:toyId',\n        component: ToyEdit,\n    },\n    {\n        path: '/about',\n        component: ToyAbout,\n    },\n    {\n        path: '/chart',\n        component: ToyChart,\n    },\n    {\n        path: '/login',\n        component: ToyLoginSignup,\n    },\n    {\n        path: '/user',\n        component: ToyUserDetails,\n    },\n    {\n        path: '/review',\n        component: ToyReviews,\n    }\n]\n\nexport default routes;","import { eventBusService } from '../services/event-bus.service.js'\nimport React from 'react'\n\nexport class UserMsg extends React.Component {\n\n  removeEvent;\n\n  state = {\n    msg: null\n  }\n\n  componentDidMount() {\n    this.removeEvent = eventBusService.on('show-user-msg', (msg) => {\n      this.setState({ msg })\n      setTimeout(() => {\n        this.setState({ msg: null })\n      }, 2500)\n    })\n  }\n\n  componentWillUnmount() {\n    this.removeEvent()\n  }\n\n  render() {\n    if (!this.state.msg) return <span></span>\n    const msgClass = this.state.msg.type || ''\n    return (\n      <section className={'user-msg ' + msgClass}>\n        <button onClick={() => {\n          this.setState({ msg: null })\n        }}>x</button>\n        {this.state.msg.txt}\n      </section>\n    )\n  }\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nexport const RightNav = ({ open, toggleOpen, user, onLogout }) => {\n  return (\n    <ul className={`right-nav ${open ? 'open' : ''}`}>\n      <NavLink onClick={toggleOpen} exact to=\"/\">Home</NavLink>\n      {user && <NavLink onClick={toggleOpen} to=\"/user\">Profile</NavLink>}\n      <NavLink onClick={toggleOpen} to=\"/toy\">Toys</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/review\">Reviews</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/about\">About</NavLink>\n      <NavLink onClick={toggleOpen} to=\"/chart\">Chart</NavLink>\n      {user && <NavLink onClick={toggleOpen} onClick={onLogout} to=\"/login\">Logout</NavLink>}\n      {!user && <NavLink onClick={toggleOpen} to=\"/login\">Login</NavLink>}\n    </ul>\n  )\n}\n","import React from 'react';\nimport { RightNav } from './RightNav';\n\n\nexport function Burger({ open, toggleOpen, user, onLogout }) {\n  return (\n    <>\n      <div className={`burger ${open ? 'open' : ''}`} onClick={toggleOpen}>\n        <div className={`burgers ${open ? 'open' : ''}`} />\n        <div className={`burgers ${open ? 'open' : ''}`} />\n        <div className={`burgers ${open ? 'open' : ''}`} />\n      </div>\n      <RightNav open={open} toggleOpen={toggleOpen} onLogout={onLogout} user={user} />\n    </>\n  )\n}\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { onLogin, onLogout, onSignup } from '../store/user.actions.js';\nimport { UserMsg } from './user-msg.jsx';\nimport { Burger } from './Burger.jsx';\nimport toyLogo from '../assets/img/toyLogo.png';\nclass _ToyHeader extends React.Component {\n  state = {\n    open: false,\n    isMobile: false,\n  };\n\n  componentDidMount() {\n    if (window.innerWidth < 768) {\n      this.setState({ ...this.state, isMobile: true });\n    }\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  onLogin = (credentials) => {\n    this.props.onLogin(credentials);\n  };\n  onSignup = (credentials) => {\n    this.props.onSignup(credentials);\n  };\n  onLogout = () => {\n    this.props.onLogout();\n  };\n\n  toggleOpen = () => {\n    const { open, isMobile } = this.state;\n    if (!isMobile) return;\n    this.setState({ open: !open });\n  };\n\n  handleResize = () => {\n    this.setState({\n      isMobile: window.innerWidth < 768,\n    });\n  };\n\n  render() {\n    const { user } = this.props;\n    return (\n      <>\n        <div className='navbar'>\n          <div className='logo'>\n            <Link to='/'>\n              <img src={toyLogo} alt='logo' />\n            </Link>\n          </div>\n          <Burger\n            user={user}\n            onLogout={this.onLogout}\n            open={this.state.open}\n            toggleOpen={this.toggleOpen}\n          />\n        </div>\n        <UserMsg />\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.userModule.user,\n  };\n}\nconst mapDispatchToProps = {\n  onLogin,\n  onSignup,\n  onLogout,\n};\n\nexport const ToyHeader = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_ToyHeader);\n\n_ToyHeader.propTypes = {\n  user: PropTypes.object,\n  onLogin: PropTypes.func.isRequired,\n  onSignup: PropTypes.func.isRequired,\n  onLogout: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router';\nimport routes from './routes.js';\nimport { ToyHeader } from './cmps/ToyHeader.jsx';\n\nexport class RootCmp extends React.Component {\n  render() {\n    return (\n      <div>\n        <ToyHeader />\n        <main className='main-container'>\n          <Switch>\n            {routes.map((route) => (\n              <Route\n                key={route.path}\n                exact\n                component={route.component}\n                path={route.path}\n              />\n            ))}\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store';\r\nimport { RootCmp } from './root-cmp';\r\nimport './assets/styles/main.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <RootCmp />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}